
#include "VEDLibh.h"
//#include "glu.lib"
void control (double speed = 1);


int main()
    {
    txCreateWindow (GetSystemMetrics(SM_CXSCREEN), GetSystemMetrics(SM_CYSCREEN));
    //txMessageBox ("ERROR :: LOL");
    /*double a [allmsx][allmsy] =
    {{3, 7,	4, -1, 2, 10},
	 {0, 6,	3,  6, 8,  5},
	 {6, 8,	9,  6, 7,  4},
	 {4, 5,	7,  2, 6,  1},
	 {5, 1,	6,  0, 2,  7}};

    double b [allmsx][allmsy] =
    {{2, 6, 9, 3},
	 {8, 4, 8, 4},
	 {8, 8, 5, 1},
	 {4, 1, 7, 4},
	 {2, 6, 8, 3},
	 {6, 1, 0, 0}};
    double c [allmsx][allmsy] = {};
    CPOINT sa = {6, 5};
    CPOINT sb = {4, 7};
    CPOINT sc = {6, 6};
    multimat2 (sa, a, sb, b, sc, c);
    printmat (sc, c);
    //printf ("\n/%fb10/ ", b[2][0]);
    return 0;     */
    int x = 40, y = 30, z = 1;
    //int diffx = 500;
    //int diffy = 500;
    //int diffz = 1;
    //int extrax = 0;
    //int extray = 0;
    //VEDTranslate (x, y, z);


    //int dist = 150;

    while (!GetAsyncKeyState (VK_ESCAPE))
        {

        txSleep (20);
        txSetFillColor (TX_BLACK);
        txClear ();
        txClearConsole();
        //printf ("x == %d            y == %d\n wx == %d          wy == %d", x, y, diffx, diffy);

        txSetColor (TX_WHITE);
        VEDVertex ({-1, -1, 1}, {1, -1, 1});
        //VEDCube();
        control();
        if (GetAsyncKeyState (VK_LSHIFT)) control (3);


        }

    return 0;
    }


void control (double speed)
    {
    if (GetAsyncKeyState (VK_RIGHT))  VEDScale (1.3 * speed,   0,     0);
    if (GetAsyncKeyState (VK_LEFT ))  VEDScale (0.7 * speed,   0,     0);
    if (GetAsyncKeyState (VK_UP   ))  VEDScale (  0, 1.3 * speed,     0);
    if (GetAsyncKeyState (VK_DOWN ))  VEDScale (  0, 0.7 * speed,     0);
    if (GetAsyncKeyState (VK_RSHIFT)) VEDScale (  0,   0,   1.1 * speed);
    if (GetAsyncKeyState (VK_RETURN)) VEDScale (  0,   0,   0.9 * speed);



    if (GetAsyncKeyState ('D')) VEDTranslate ( 1.2 * speed,  0,   0);
    if (GetAsyncKeyState ('A')) VEDTranslate (-1.2 * speed,  0,   0);
    if (GetAsyncKeyState ('W')) VEDTranslate ( 0, -1.2 * speed,   0);
    if (GetAsyncKeyState ('S')) VEDTranslate ( 0,  1.2 * speed,   0);
    if (GetAsyncKeyState ('Q')) VEDTranslate ( 0,  0,   1.2 * speed);
    if (GetAsyncKeyState ('E')) VEDTranslate ( 0,  0,  -1.2 * speed);


    if (GetAsyncKeyState ('O'))
        {
        if (GetAsyncKeyState ('Z')) {VEDRotateZ (-0.1125 * speed); }
        if (GetAsyncKeyState ('X')) {VEDRotateX (-0.1125 * speed); }
        if (GetAsyncKeyState ('Y')) {VEDRotateY (-0.1125 * speed); }
        }
    if (GetAsyncKeyState ('P'))
        {
        if (GetAsyncKeyState ('Z')) {VEDRotateZ (0.1125 * speed); }
        if (GetAsyncKeyState ('X')) {VEDRotateX (0.1125 * speed); }
        if (GetAsyncKeyState ('Y')) {VEDRotateY (0.1125 * speed); }
        }
    }

